// Copyright (c) 2026 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-contains@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-filled@v0.2.2-esm/index.mjs";import{factory as i}from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.2-esm/index.mjs";import{isPrimitive as m}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";var a=["min","max","average","dense","ordinal"],l=["last","first","remove"],f=i(a),p=i(l);function g(i,g){var c,j,v,u,b,x,y,w,E,L,T,k,N,S,z,O,V,Z;if(!s(i))throw new TypeError(t("1Lp2O",i));if(N={},arguments.length>1&&(z=function(s,e){return d(e)?h(e,"encoding")&&(s.encoding=e.encoding,!o(s.encoding))?new TypeError(t("1Lp8Z","encoding",s.encoding)):!h(e,"method")||(s.method=e.method,m(s.method)&&f(s.method))?!h(e,"missing")||(s.missing=e.missing,m(s.missing)&&p(s.missing))?null:new TypeError(t("1Lp4S","missing",l.join('", "'),s.missing)):new TypeError(t("1Lp4S","method",a.join('", "'),s.method)):new TypeError(t("1Lp2V",e))}(N,g),z))throw z;for(T=N.method||"average",x=N.encoding||[null,NaN],E=N.missing||"last",O=i.length,S=[],V=0;V<O;V++)e(x,i[V])||S.push(i[V]);if(c=function(s,r){var t,i,o;for(t=s.length,i=n(!1,t),o=0;o<t;o++)i[o]=e(r,s[o]);return i}(i,x),O=S.length,u=0,w=function(s){var e,r;for(e=[],r=0;r<s.length;r++)e.push(r);return e.sort((function(e,r){return function(s,e){return s<e?-1:s>e?1:0}(s[e],s[r])}))}(S),k=r(O),"ordinal"===T)for(V=0;V<O;V++)k[w[V]]=V+1;else for(j=0,V=0;V<O;V++)if(y=V+1,V===O-1||S[w[V]]!==S[w[y]]){switch(T){case"min":L=y-j;break;case"max":L=y;break;case"dense":L=y-j-u,u+=j;break;default:L=y-.5*j}for(Z=V-j;Z<y;Z++)k[w[Z]]=L;j=0}else j+=1;if("first"===E){for(v=function(s){var e,r,t;for(e=s.length,r=0,t=0;t<e;t++)r+=s[t];return r}(c),Z=1,b=[],V=0;V<c.length;V++)c[V]?(b.push(Z),Z+=1):b.push(k.shift()+v);return b}if("last"===E){for(b=[],V=0;V<c.length;V++)c[V]?b.push(V+k.length+1):b.push(k.shift());return b}return k}export{g as default};
//# sourceMappingURL=index.mjs.map
