// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-contains@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-array@esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-string@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";var a=function(e){var n,t,r;for(n=e.length,t=0,r=0;r<n;r++)t+=e[r];return t};var m=function(e){var n,t;for(n=new Array(e.length),t=0;t<e.length;t++)n[t]=t;return n.sort((function(n,t){return function(e,n){return e<n?-1:e>n?1:0}(e[n],e[t])}))},d=n;var l=function(e,n){var t,r,s;for(t=e.length,r=new Array(t),s=0;s<t;s++)r[s]=d(n,e[s]);return r},g=n,h=r,f=s,c=i.isPrimitive,u=o,p=t,j=["min","max","average","dense","ordinal"],v=["last","first","remove"];var b=e,w=n,y=t,x=a,A=m,E=l,T=function(e,n){return f(n)?u(n,"encoding")&&(e.encoding=n.encoding,!h(e.encoding))?new TypeError(p("invalid option. `%s` option must be an array. Option: `%s`.","encoding",e.encoding)):!u(n,"method")||(e.method=n.method,c(e.method)&&g(j,e.method))?!u(n,"missing")||(e.missing=n.missing,c(e.missing)&&g(v,e.missing))?null:new TypeError(p("invalid option. `%s` must be one of the following: %s. Option: `%s`.","missing",v.join(","),e.missing)):new TypeError(p("invalid option. `%s` must be one of the following: %s. Option: `%s`.","method",j.join(","),e.method)):new TypeError(p("invalid argument. Options argument must be an object. Value: `%s`.",n))};var k=function(e,n){var t,r,s,i,o,a,m,d,l,g,h,f,c,u,p,j,v,k;if(!b(e))throw new TypeError(y("invalid argument. First argument `x` must be an array-like object. Value: `%s`.",e));if(c={},arguments.length>1&&(p=T(c,n)))throw p;for(h=c.method||"average",a=c.encoding||[null,NaN],l=c.missing||"last",j=e.length,u=[],v=0;v<j;v++)w(a,e[v])||u.push(e[v]);if(t=E(e,a),j=u.length,i=0,f=new Array(j),d=A(u),"ordinal"===h)for(v=0;v<j;v++)f[d[v]]=v+1;else for(r=0,v=0;v<j;v++)if(m=v+1,v===j-1||u[d[v]]!==u[d[m]]){switch(h){case"average":default:g=m-.5*r;break;case"min":g=m-r;break;case"max":g=m;break;case"dense":g=m-r-i,i+=r}for(k=v-r;k<m;k++)f[d[k]]=g;r=0}else r+=1;if("first"===l){for(s=x(t),k=1,o=new Array(t.length),v=0;v<t.length;v++)t[v]?(o[v]=k,k+=1):o[v]=f.shift()+s;return o}if("last"===l){for(o=new Array(t.length),v=0;v<t.length;v++)t[v]?o[v]=v+f.length+1:o[v]=f.shift();return o}return f},O=k;export{O as default};
//# sourceMappingURL=index.mjs.map
