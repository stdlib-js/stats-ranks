// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var r=Math.floor;function e(e){return r(e)===e}function t(r){return"object"==typeof r&&null!==r&&"number"==typeof r.length&&e(r.length)&&r.length>=0&&r.length<=9007199254740991}var n="function"==typeof Object.defineProperty?Object.defineProperty:null;var o=Object.defineProperty,i=Object.prototype,u=i.toString,a=i.__defineGetter__,l=i.__defineSetter__,f=i.__lookupGetter__,c=i.__lookupSetter__;var s=function(){try{return n({},"x",{}),!0}catch(r){return!1}}()?o:function(r,e,t){var n,o,s,g;if("object"!=typeof r||null===r||"[object Array]"===u.call(r))throw new TypeError("invalid argument. First argument must be an object. Value: `"+r+"`.");if("object"!=typeof t||null===t||"[object Array]"===u.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((o="value"in t)&&(f.call(r,e)||c.call(r,e)?(n=r.__proto__,r.__proto__=i,delete r[e],r[e]=t.value,r.__proto__=n):r[e]=t.value),s="get"in t,g="set"in t,o&&(s||g))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return s&&a&&a.call(r,e,t.get),g&&l&&l.call(r,e,t.set),r};function g(r,e,t){s(r,e,{configurable:!1,enumerable:!1,writable:!1,value:t})}function y(r){return"number"==typeof r}var m="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function p(){return m&&"symbol"==typeof Symbol.toStringTag}var h=Object.prototype.toString;var b=Object.prototype.hasOwnProperty;function v(r,e){return null!=r&&b.call(r,e)}var d="function"==typeof Symbol?Symbol.toStringTag:"";var w=p()?function(r){var e,t,n;if(null==r)return h.call(r);t=r[d],e=v(r,d);try{r[d]=void 0}catch(e){return h.call(r)}return n=h.call(r),e?r[d]=t:delete r[d],n}:function(r){return h.call(r)},_=Number,j=_.prototype.toString;var S=p();function T(r){return"object"==typeof r&&(r instanceof _||(S?function(r){try{return j.call(r),!0}catch(r){return!1}}(r):"[object Number]"===w(r)))}function O(r){return y(r)||T(r)}g(O,"isPrimitive",y),g(O,"isObject",T);var E=Number.POSITIVE_INFINITY,A=_.NEGATIVE_INFINITY;function I(r){return r<E&&r>A&&e(r)}function N(r){return y(r)&&I(r)}function P(r){return T(r)&&I(r.valueOf())}function V(r){return N(r)||P(r)}function k(r){return"string"==typeof r}g(V,"isPrimitive",N),g(V,"isObject",P);var x=String.prototype.valueOf;var F=p();function G(r){return"object"==typeof r&&(r instanceof String||(F?function(r){try{return x.call(r),!0}catch(r){return!1}}(r):"[object String]"===w(r)))}function C(r){return k(r)||G(r)}function M(r){return r!=r}function Y(r){return y(r)&&M(r)}function R(r){return T(r)&&M(r.valueOf())}function U(r){return Y(r)||R(r)}function q(r,e,n){var o,i,u;if(!t(r)&&!k(r))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+r+"`.");if(arguments.length<2)throw new Error("insufficient input arguments. Must provide a search value.");if(arguments.length>2){if(!N(n))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+n+"`.");(i=n)<0&&(i=0)}else i=0;if(k(r)){if(!k(e))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+e+"`.");return-1!==r.indexOf(e,i)}if(o=r.length,Y(e)){for(u=i;u<o;u++)if(Y(r[u]))return!0;return!1}for(u=i;u<o;u++)if(r[u]===e)return!0;return!1}function z(){var r,e=arguments,t=e[0],n="https://stdlib.io/e/"+t+"?";for(r=1;r<e.length;r++)n+="&arg[]="+encodeURIComponent(e[r]);return n}function B(r){var e,t,n;for(e=r.length,t=0,n=0;n<e;n++)t+=r[n];return t}function D(r){var e,t;for(e=new Array(r.length),t=0;t<r.length;t++)e[t]=t;return e.sort((function(e,t){return function(r,e){return r<e?-1:r>e?1:0}(r[e],r[t])}))}function H(r,e){var t,n,o;for(t=r.length,n=new Array(t),o=0;o<t;o++)n[o]=q(e,r[o]);return n}g(C,"isPrimitive",k),g(C,"isObject",G),g(U,"isPrimitive",Y),g(U,"isObject",R);var J=Array.isArray?Array.isArray:function(r){return"[object Array]"===w(r)};var K=["min","max","average","dense","ordinal"],L=["last","first","remove"];function Q(r,e){return"object"!=typeof(t=e)||null===t||J(t)?new TypeError(z("0fo2h",e)):v(e,"encoding")&&(r.encoding=e.encoding,!J(r.encoding))?new TypeError(z("0fo8t","encoding",r.encoding)):!v(e,"method")||(r.method=e.method,k(r.method)&&q(K,r.method))?!v(e,"missing")||(r.missing=e.missing,k(r.missing)&&q(L,r.missing))?null:new TypeError(z("0fo3t","missing",L.join('", "'),r.missing)):new TypeError(z("0fo3t","method",K.join('", "'),r.method));var t}function W(r,e){var n,o,i,u,a,l,f,c,s,g,y,m,p,h,b,v,d,w;if(!t(r))throw new TypeError(z("0fo2a",r));if(p={},arguments.length>1&&(b=Q(p,e)))throw b;for(y=p.method||"average",l=p.encoding||[null,NaN],s=p.missing||"last",v=r.length,h=[],d=0;d<v;d++)q(l,r[d])||h.push(r[d]);if(n=H(r,l),v=h.length,u=0,m=new Array(v),c=D(h),"ordinal"===y)for(d=0;d<v;d++)m[c[d]]=d+1;else for(o=0,d=0;d<v;d++)if(f=d+1,d===v-1||h[c[d]]!==h[c[f]]){switch(y){case"min":g=f-o;break;case"max":g=f;break;case"dense":g=f-o-u,u+=o;break;default:g=f-.5*o}for(w=d-o;w<f;w++)m[c[w]]=g;o=0}else o+=1;if("first"===s){for(i=B(n),w=1,a=new Array(n.length),d=0;d<n.length;d++)n[d]?(a[d]=w,w+=1):a[d]=m.shift()+i;return a}if("last"===s){for(a=new Array(n.length),d=0;d<n.length;d++)n[d]?a[d]=d+m.length+1:a[d]=m.shift();return a}return m}export{W as default};
//# sourceMappingURL=mod.js.map
