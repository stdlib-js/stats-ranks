// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
var e,r;e=this,r=function(){"use strict";var e=Math.floor;function r(r){return e(r)===r}function t(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&r(e.length)&&e.length>=0&&e.length<=9007199254740991}var n="function"==typeof Object.defineProperty?Object.defineProperty:null,o=Object.defineProperty,i=Object.prototype,u=i.toString,a=i.__defineGetter__,f=i.__defineSetter__,l=i.__lookupGetter__,c=i.__lookupSetter__,s=function(){try{return n({},"x",{}),!0}catch(e){return!1}}()?o:function(e,r,t){var n,o,s,g;if("object"!=typeof e||null===e||"[object Array]"===u.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof t||null===t||"[object Array]"===u.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((o="value"in t)&&(l.call(e,r)||c.call(e,r)?(n=e.__proto__,e.__proto__=i,delete e[r],e[r]=t.value,e.__proto__=n):e[r]=t.value),s="get"in t,g="set"in t,o&&(s||g))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return s&&a&&a.call(e,r,t.get),g&&f&&f.call(e,r,t.set),e};function g(e,r,t){s(e,r,{configurable:!1,enumerable:!1,writable:!1,value:t})}function y(e){return"number"==typeof e}var p="function"==typeof Symbol&&"symbol"==typeof Symbol("foo");function m(){return p&&"symbol"==typeof Symbol.toStringTag}var h=Object.prototype.toString,d=Object.prototype.hasOwnProperty;function b(e,r){return null!=e&&d.call(e,r)}var v="function"==typeof Symbol?Symbol.toStringTag:"",w=m()?function(e){var r,t,n;if(null==e)return h.call(e);t=e[v],r=b(e,v);try{e[v]=void 0}catch(r){return h.call(e)}return n=h.call(e),r?e[v]=t:delete e[v],n}:function(e){return h.call(e)},_=Number,j=_.prototype.toString,T=m();function S(e){return"object"==typeof e&&(e instanceof _||(T?function(e){try{return j.call(e),!0}catch(e){return!1}}(e):"[object Number]"===w(e)))}function O(e){return y(e)||S(e)}g(O,"isPrimitive",y),g(O,"isObject",S);var E=Number.POSITIVE_INFINITY,A=_.NEGATIVE_INFINITY;function I(e){return e<E&&e>A&&r(e)}function N(e){return y(e)&&I(e)}function P(e){return S(e)&&I(e.valueOf())}function k(e){return N(e)||P(e)}function V(e){return"string"==typeof e}g(k,"isPrimitive",N),g(k,"isObject",P);var x=String.prototype.valueOf,F=m();function G(e){return"object"==typeof e&&(e instanceof String||(F?function(e){try{return x.call(e),!0}catch(e){return!1}}(e):"[object String]"===w(e)))}function C(e){return V(e)||G(e)}function M(e){return e!=e}function Y(e){return y(e)&&M(e)}function R(e){return S(e)&&M(e.valueOf())}function U(e){return Y(e)||R(e)}function q(e,r,n){var o,i,u;if(!t(e)&&!V(e))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+e+"`.");if(arguments.length<2)throw new Error("insufficient input arguments. Must provide a search value.");if(arguments.length>2){if(!N(n))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+n+"`.");(i=n)<0&&(i=0)}else i=0;if(V(e)){if(!V(r))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+r+"`.");return-1!==e.indexOf(r,i)}if(o=e.length,Y(r)){for(u=i;u<o;u++)if(Y(e[u]))return!0;return!1}for(u=i;u<o;u++)if(e[u]===r)return!0;return!1}function z(){var e,r=arguments,t=r[0],n="https://stdlib.io/e/"+t+"?";for(e=1;e<r.length;e++)n+="&arg[]="+encodeURIComponent(r[e]);return n}function B(e){var r,t,n;for(r=e.length,t=0,n=0;n<r;n++)t+=e[n];return t}function D(e){var r,t;for(r=new Array(e.length),t=0;t<e.length;t++)r[t]=t;return r.sort((function(r,t){return function(e,r){return e<r?-1:e>r?1:0}(e[r],e[t])}))}function H(e,r){var t,n,o;for(t=e.length,n=new Array(t),o=0;o<t;o++)n[o]=q(r,e[o]);return n}g(C,"isPrimitive",V),g(C,"isObject",G),g(U,"isPrimitive",Y),g(U,"isObject",R);var J=Array.isArray?Array.isArray:function(e){return"[object Array]"===w(e)},K=["min","max","average","dense","ordinal"],L=["last","first","remove"];function Q(e,r){return"object"!=typeof(t=r)||null===t||J(t)?new TypeError(z("0fo2h",r)):b(r,"encoding")&&(e.encoding=r.encoding,!J(e.encoding))?new TypeError(z("0fo8t","encoding",e.encoding)):!b(r,"method")||(e.method=r.method,V(e.method)&&q(K,e.method))?!b(r,"missing")||(e.missing=r.missing,V(e.missing)&&q(L,e.missing))?null:new TypeError(z("0fo3t","missing",L.join('", "'),e.missing)):new TypeError(z("0fo3t","method",K.join('", "'),e.method));var t}return function(e,r){var n,o,i,u,a,f,l,c,s,g,y,p,m,h,d,b,v,w;if(!t(e))throw new TypeError(z("0fo2a",e));if(m={},arguments.length>1&&(d=Q(m,r)))throw d;for(y=m.method||"average",f=m.encoding||[null,NaN],s=m.missing||"last",b=e.length,h=[],v=0;v<b;v++)q(f,e[v])||h.push(e[v]);if(n=H(e,f),b=h.length,u=0,p=new Array(b),c=D(h),"ordinal"===y)for(v=0;v<b;v++)p[c[v]]=v+1;else for(o=0,v=0;v<b;v++)if(l=v+1,v===b-1||h[c[v]]!==h[c[l]]){switch(y){case"min":g=l-o;break;case"max":g=l;break;case"dense":g=l-o-u,u+=o;break;default:g=l-.5*o}for(w=v-o;w<l;w++)p[c[w]]=g;o=0}else o+=1;if("first"===s){for(i=B(n),w=1,a=new Array(n.length),v=0;v<n.length;v++)n[v]?(a[v]=w,w+=1):a[v]=p.shift()+i;return a}if("last"===s){for(a=new Array(n.length),v=0;v<n.length;v++)n[v]?a[v]=v+p.length+1:a[v]=p.shift();return a}return p}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(e="undefined"!=typeof globalThis?globalThis:e||self).ranks=r();
//# sourceMappingURL=index.js.map
